{"inkVersion":18,"root":[[{"#":"n_rope"},"^This room is empty save for ","<>","\n",["ev",{"VAR?":"i_rope"},0,">","/ev",{"->":".^.b","c":true},{"b":["\n","^another","\n",{"->":"0.6"},null]}],[{"->":".^.b"},{"b":["\n","^a","\n",{"->":"0.6"},null]}],"nop","^ ","<>","^ rope coiled on the floor. ",{"->":"options"},"\n",["done",{"#f":7,"#n":"g-0"}],null],"done",{"options":[["ev","str","^Take the rope.","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Try to take the rope again.","/str",{"CNT?":"tug_of_war"},0,">",{"CNT?":"get_rope"},0,"<=","&&","/ev",{"*":".^.c-1","flg":5},"ev","str","^Exit. £E","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":[{"->":"tug_of_war"},"\n",{"#f":7}],"c-1":[{"->":"tug_plus"},"\n",{"#f":7}],"c-2":[{"->":"returning"},"\n",{"#f":7}]}],{"#f":3}],"tug_of_war":["^You pick up one end of the rope. Upon lifting it you see that the other end leads into a small hole in the floor. Suddenly the rope goes taut, something inside the hole is trying to pull the rope into it. ",{"->":"tug_options"},"\n",{"#f":3}],"tug_plus":["^You grab the rope again and instantly it is pulled into the hole. ",{"->":"tug_options"},"\n",{"#f":3}],"tug_options":[["ev","str","^Hang on to the rope. (0-2 effort)","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Let the rope go.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":[{"->":"get_rope"},"\n",{"#f":7}],"c-1":[{"->":"lose_rope"},"\n",{"#f":7}]}],{"#f":3}],"lose_rope":[["^You release the rope and it flails around the hole before being sucked up like a noodle. The rope is gone. ",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You're sure it will be back to taunt you but it won't return whilst you're watching.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Exit. £E","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":[{"->":"returning"},"\n",{"#f":7}]}],{"#f":3}],"get_rope":[{"#":"n_empty_rope"},"ev",{"VAR?":"i_rope"},1,"+",{"temp=":"i_rope","re":true},"/ev",["ev",{"VAR?":"luck"},0,">","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"luck"},1,"-",{"temp=":"luck","re":true},"/ev",{"->":"lucky"},{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"effort"},0,2,"rnd","-",{"temp=":"effort","re":true},"/ev",{"->":".^.^.^.9"},null]}],"nop","\n","^You, and whatever is on the other side of that hole, engage in a tug of war. ","<>","\n",["ev",{"VAR?":"effort"},0,"<=","/ev",{"->":".^.b","c":true},{"b":["\n","^Back and forth you pull before you lose your footing and are pulled violently into the floor. The blow cracks your skull and you fall unconscious. ","done","\n",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["\n","^It is a brief struggle that you eventually win. You now have a rope. ",{"->":"options"},"\n",{"->":".^.^.^.16"},null]}],"nop","\n",{"#f":3}],"returning":["^You return to the room ","<>","\n",["ev",{"CNT?":"get_rope"},"/ev",{"->":".^.b","c":true},{"b":["\n","^that you took a rope from.","\n",{"->":".^.^.^.6"},null]}],["ev",{"CNT?":"lose_rope"},"/ev",{"->":".^.b","c":true},{"b":["\n","^that you lost a rope from. You see it has returned to the floor, coiled around the hole it went down last time.","\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","^with a rope coiled on the floor.","\n",{"->":".^.^.^.6"},null]}],"nop",{"->":"options"},"\n",{"#f":3}],"lucky":["^You hear a rattling noise from the hole and the rope goes slack. You wind it in hearing a broken ratchet beneath the floor. Luckily this trap wasn't made very well. You now have a rope. ",{"->":"options"},"\n",{"#f":3}],"global decl":["ev",0,{"VAR=":"i_rope"},1,{"VAR=":"effort"},0,{"VAR=":"luck"},"/ev","end",null],"#f":3}],"listDefs":{}}